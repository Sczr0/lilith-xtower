{
    "installCommand": "pnpm install",
    "buildCommand": "pnpm run build",
    "nodeVersion": "22.11.0",
    "rewrites": [
        {
            "source": "/api/agreement",
            "destination": "/api/agreement"
        },
        {
            "source": "/api/content/*",
            "destination": "/api/content/:splat"
        },
        {
            "source": "/api/qa",
            "destination": "/api/qa"
        },
        {
            "source": "/api/rum",
            "destination": "/api/rum"
        },
        {
            "source": "/internal/sponsors",
            "destination": "/internal/sponsors"
        }
    ],
    "redirects": [],
    "headers": [
        {
            "source": "/health",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "no-store, no-cache, must-revalidate"
                }
            ]
        },
        {
            "source": "/*",
            "headers": [
                {
                    "key": "Content-Security-Policy",
                    "value": "default-src 'self'; script-src 'self' 'unsafe-inline' https://cloud.umami.is https://static.cloudflareinsights.com; connect-src 'self' https://cloud.umami.is https://cloudflareinsights.com https://api-gateway.umami.dev https://api.umami.is https://seekend.xtower.site; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self'; frame-ancestors 'self'; object-src 'none'; base-uri 'self'; form-action 'self'"
                },
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=0, s-maxage=600, stale-while-revalidate"
                }
            ]
        },
        {
            "source": "/*.woff2",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=31536000, immutable"
                }
            ]
        },
        {
            "source": "/*.woff",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=31536000, immutable"
                }
            ]
        },
        {
            "source": "/_next/static/*",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=31536000, immutable"
                }
            ]
        },
        {
            "source": "/chunks/*",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=31536000, immutable"
                }
            ]
        },
        {
            "source": "/precompiled/manifest.json",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=600"
                }
            ]
        },
        {
            "source": "/precompiled/*.html",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=31536000, immutable"
                }
            ]
        },
        {
            "source": "/precompiled/*.toc.json",
            "headers": [
                {
                    "key": "Cache-Control",
                    "value": "public, max-age=31536000, immutable"
                }
            ]
        }
    ]
}
