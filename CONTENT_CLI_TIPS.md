# CLI工具使用技巧 💡

## 快速命令

```bash
# 启动内容管理工具
npm run content
```

## 输入提示

### 📢 添加公告时

| 字段 | 说明 | 示例 |
|------|------|------|
| 标题 | 简短描述 | "欢迎使用新版系统" |
| 类型 | info/warning/maintenance | 选择 "📘 普通信息" |
| 优先级 | high/medium/low | 选择 "🔴 高" |
| 允许"不再提示" | 用户可否关闭 | Yes |
| 内容 | 支持Markdown | 输入完整描述（可多行） |

### 🎵 添加新曲速递时

| 字段 | 说明 | 示例 |
|------|------|------|
| 版本号 | x.y.z格式 | "4.8.0" |
| 更新日期 | 选择日期 | 回车使用今天 |
| 曲名 | 完整曲名 | "WINTER ～願いを込めて～" |
| 艺术家 | 创作者 | "TOKOTOKO（西沢さんP）" |
| **定数** | **支持小数 (1.0-20.0)** | **输入 15.8** ⭐ |
| 备注 | 可选说明 | "冬日限定曲目" |

## ⭐ 定数输入说明

**只需输入定数，等级自动计算！**

- **定数范围**: 1.0-20.0（支持小数）
- **等级计算**: 自动向下取整（如定数15.8 → 等级15）

### ✅ 正确示例

| 输入定数 | 自动计算等级 | 说明 |
|---------|------------|------|
| 15.8 | 15 | 定数15.8，等级15 |
| 14.5 | 14 | 定数14.5，等级14 |
| 3.2 | 3 | 定数3.2，等级3 |
| 10 | 10 | 定数10.0，等级10 |
| 20.0 | 20 | 定数20.0，等级20 |

### ❌ 错误示例

```
? EZ 定数: 0.5   ❌ 定数应在 1.0-20.0 之间
? EZ 定数: 21.0  ❌ 定数应在 1.0-20.0 之间
? EZ 定数: abc   ❌ 请输入有效的数字
```

## 批量添加技巧

### 添加多首歌曲
1. 选择"🎵 添加新曲速递"
2. 输入版本号和日期
3. 添加第一首歌
4. 当询问"继续添加曲目?"时选择 Yes
5. 重复直到所有歌曲添加完毕
6. 最后选择 No，一次性生成Markdown文件

### 快速跳过难度
如果某首歌没有某个难度（如没有EZ难度）：
- 当询问"添加 EZ 难度?"时选择 No
- 直接跳到下一个难度

## 键盘快捷键

- `↑` `↓` - 选择选项
- `Enter` - 确认
- `Ctrl+C` - 取消操作
- `Space` - 切换选项（在confirm类型问题中）

## 查看现有内容

```bash
# 启动工具后选择
📋 查看所有公告          # 列出所有公告及状态
📋 查看所有新曲速递      # 列出所有更新记录
```

## 编辑现有内容

两种方式：

**方式1: 直接编辑文件**
```bash
# 用任何编辑器打开
code src/app/content/announcements/2025-10-04-welcome.md
```

**方式2: 通过CLI提示**
```bash
npm run content
# 选择"✏️  编辑内容"
# 会显示文件路径提示
```

## 常见问题快速解决

### Q: 输入了小数但保存成整数？
A: ✅ 已修复！现在支持小数输入（如 15.8）

### Q: 如何修改已添加的内容？
A: 直接编辑对应的 `.md` 文件即可

### Q: 如何删除某条公告？
A: 删除对应的 `.md` 文件，或将 `enabled: false`

### Q: 添加时输错了怎么办？
A: 按 `Ctrl+C` 取消，重新开始

### Q: 生成的文件在哪里？
A: 
- 公告: `src/app/content/announcements/`
- 新曲速递: `src/app/content/song-updates/`

## 提交到Git

```bash
# 查看修改
git status

# 添加内容文件
git add src/app/content/

# 提交
git commit -m "docs: 添加新公告/新曲速递"

# 推送
git push
```

---

**💡 小贴士:** 
- 定数输入时可以不带小数点（如输入 `15` 会自动格式化为 `15.0`）
- Markdown内容支持完整语法（链接、粗体、列表、代码块等）
- 所有改动实时生效，刷新页面即可看到
